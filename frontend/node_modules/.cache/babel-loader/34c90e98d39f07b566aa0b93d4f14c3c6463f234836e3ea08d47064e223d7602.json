{"ast":null,"code":"import React,{useEffect,useState}from'react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";console.log('React API base:',process.env.REACT_APP_API_URL);const AlertsTable=()=>{const[alerts,setAlerts]=useState([]);const sendAlert=()=>{const newAlert={timestamp:new Date().toISOString(),summary:'Simulated CPU spike on node-3',status:'firing',details:'CPU usage exceeded 90% for more than 5 mins on node-3'};api.post('/api/alerts/webhook',newAlert).then(()=>fetchAlerts()).catch(err=>{console.error('Failed to send alert:',err.message);console.error(err);});};const fetchAlerts=()=>{api.get('/api/alerts').then(res=>setAlerts(res.data)).catch(err=>{console.error('Failed to fetch alerts:',err.message);console.error(err);});};useEffect(()=>{fetchAlerts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:sendAlert,children:\"Send Test Alert\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Timestamp\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Summary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:alerts.map((alert,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:alert.timestamp}),/*#__PURE__*/_jsx(\"td\",{children:alert.summary}),/*#__PURE__*/_jsx(\"td\",{children:alert.status})]},index))})]})]});};export default AlertsTable;","map":{"version":3,"names":["React","useEffect","useState","api","jsx","_jsx","jsxs","_jsxs","console","log","process","env","REACT_APP_API_URL","AlertsTable","alerts","setAlerts","sendAlert","newAlert","timestamp","Date","toISOString","summary","status","details","post","then","fetchAlerts","catch","err","error","message","get","res","data","children","onClick","map","alert","index"],"sources":["/Users/ankurkashyap/Documents/Cloud-business-project/AI-Driven-Monitoring-and-Incident-Response/frontend/src/components/AlertsTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from '../services/api';\n\nconsole.log('React API base:', process.env.REACT_APP_API_URL);\n\nconst AlertsTable = () => {\n  const [alerts, setAlerts] = useState([]);\n\n  const sendAlert = () => {\n    const newAlert = {\n      timestamp: new Date().toISOString(),\n      summary: 'Simulated CPU spike on node-3',\n      status: 'firing',\n      details: 'CPU usage exceeded 90% for more than 5 mins on node-3'\n    };\n\n    api.post('/api/alerts/webhook', newAlert)\n      .then(() => fetchAlerts())\n      .catch(err => {\n        console.error('Failed to send alert:', err.message);\n        console.error(err);\n      });\n  };\n\n  const fetchAlerts = () => {\n    api.get('/api/alerts')\n      .then(res => setAlerts(res.data))\n      .catch(err => {\n        console.error('Failed to fetch alerts:', err.message);\n        console.error(err);\n      });\n  };\n\n  useEffect(() => {\n    fetchAlerts();\n  }, []);\n\n  return (\n    <div>\n      <button onClick={sendAlert}>Send Test Alert</button>\n      <table>\n        <thead>\n          <tr>\n            <th>Timestamp</th>\n            <th>Summary</th>\n            <th>Status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {alerts.map((alert, index) => (\n            <tr key={index}>\n              <td>{alert.timestamp}</td>\n              <td>{alert.summary}</td>\n              <td>{alert.status}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AlertsTable;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAC,CAE7D,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAc,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,QAAQ,CAAG,CACfC,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACnCC,OAAO,CAAE,+BAA+B,CACxCC,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,uDACX,CAAC,CAEDpB,GAAG,CAACqB,IAAI,CAAC,qBAAqB,CAAEP,QAAQ,CAAC,CACtCQ,IAAI,CAAC,IAAMC,WAAW,CAAC,CAAC,CAAC,CACzBC,KAAK,CAACC,GAAG,EAAI,CACZpB,OAAO,CAACqB,KAAK,CAAC,uBAAuB,CAAED,GAAG,CAACE,OAAO,CAAC,CACnDtB,OAAO,CAACqB,KAAK,CAACD,GAAG,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAF,WAAW,CAAGA,CAAA,GAAM,CACxBvB,GAAG,CAAC4B,GAAG,CAAC,aAAa,CAAC,CACnBN,IAAI,CAACO,GAAG,EAAIjB,SAAS,CAACiB,GAAG,CAACC,IAAI,CAAC,CAAC,CAChCN,KAAK,CAACC,GAAG,EAAI,CACZpB,OAAO,CAACqB,KAAK,CAAC,yBAAyB,CAAED,GAAG,CAACE,OAAO,CAAC,CACrDtB,OAAO,CAACqB,KAAK,CAACD,GAAG,CAAC,CACpB,CAAC,CAAC,CACN,CAAC,CAED3B,SAAS,CAAC,IAAM,CACdyB,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnB,KAAA,QAAA2B,QAAA,eACE7B,IAAA,WAAQ8B,OAAO,CAAEnB,SAAU,CAAAkB,QAAA,CAAC,iBAAe,CAAQ,CAAC,cACpD3B,KAAA,UAAA2B,QAAA,eACE7B,IAAA,UAAA6B,QAAA,cACE3B,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB7B,IAAA,OAAA6B,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB7B,IAAA,OAAA6B,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACA,CAAC,cACR7B,IAAA,UAAA6B,QAAA,CACGpB,MAAM,CAACsB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBACvB/B,KAAA,OAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAKG,KAAK,CAACnB,SAAS,CAAK,CAAC,cAC1Bb,IAAA,OAAA6B,QAAA,CAAKG,KAAK,CAAChB,OAAO,CAAK,CAAC,cACxBhB,IAAA,OAAA6B,QAAA,CAAKG,KAAK,CAACf,MAAM,CAAK,CAAC,GAHhBgB,KAIL,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}